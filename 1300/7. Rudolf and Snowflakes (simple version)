ðŸ“˜ Topic: Mathematical Construction / Geometric Series
ðŸ’¡ Problem: Rudolf and Snowflakes (simple version)
âœ… Understanding the Snowflake Construction
link: https://codeforces.com/problemset/problem/1846/E1
A snowflake graph is built as:

Start with 1 vertex

Connect it to k new vertices

Then every leaf again connects to k new vertices

Repeat at least once (so minimum 3 levels)

So total vertices form:

ð‘›=1+ð‘˜+ð‘˜2+â‹¯+ð‘˜ð‘š
(ð‘˜>1,â€…ð‘šâ‰¥2)
n=1+k+k2+â‹¯+km(k>1,mâ‰¥2)

Minimum m = 2 â†’ formula has â‰¥3 terms
Example when 

k=2:

1+2+4=7
ðŸ“ Mathematical Form

A geometric series:

ð‘›=ð‘˜ð‘š+1âˆ’1ð‘˜âˆ’1n=kâˆ’1km+1âˆ’1	â€‹
where

k>1

mâ‰¥2 (so ð‘˜3 must appear)

ðŸ” Goal

For each input 
ð‘›
n, check if it can be represented as such a sum.

âœ… Approach
Precomputation

Generate all numbers â‰¤ 106
 of form:

1+ð‘˜+ð‘˜2+â‹¯+ð‘˜ð‘š1+k+k2+â‹¯+km

Store them in a boolean array ispossible[]

Query

For each test case, check ispossible[n]

â± Time Complexity
Part	Complexity
Precomputation	~O(1e6 log n) but very fast due to power growth
Each query	O(1)
Total	âœ… Suitable for constraints
ðŸ§  Key Insight

We are checking valid geometric-sum numbers with:

base > 1

at least 3 terms

âœ… C++ Code (clean version)
#include <bits/stdc++.h>
using namespace std;

#define fast_io ios::sync_with_stdio(false); cin.tie(nullptr);
#define YES cout << "YES\n"
#define NO  cout << "NO\n"

vector<bool> ispossible(1'000'000 + 1, false);

void solve() {
    long long n;
    cin >> n;
    ispossible[n] ? YES : NO;
}

int main() {
    fast_io
    
    // Precompute all valid snowflake vertex counts
    for (long long k = 2; k <= 1e4; k++) {
        long long cur = k * k * k; // start from k^3 (m>=2)
        long long val = (cur - 1) / (k - 1); // geometric sum formula
        
        while (val <= 1'000'000) {
            ispossible[val] = true;
            cur *= k;  // next power
            val = (cur - 1) / (k - 1);
        }
    }

    int t;
    cin >> t;
    while (t--) solve();
    
    return 0;
}

ðŸ§ª Example
n	Output	Explanation
1	NO	cannot form snowflake
13	YES	

1+4+16
15	YES	

1+2+4+8
255	YES	

128
1+2+4+...+128
1000000	NO	invalid
ðŸ’¯ Takeaway

A number is valid if:

It is a geometric series sum with k > 1 and â‰¥3 terms.
