ğŸ“ Solution Notes â€” D. Buying Shovels
ğŸ” Problem Summary

Polycarp needs exactly n shovels.

He can only pick one package size (say size = x), where:

1 â‰¤ x â‰¤ k


He buys m packages of size x, such that:

m * x = n


Goal â†’ minimize m
Equivalently â†’ maximize x, but x must be:

a divisor of n

â‰¤ k

ğŸ¯ Key Insight

The number of packages =

m = n / x


To make m minimum â†’ pick the largest possible factor x â‰¤ k.

So the problem reduces to:

âœ” Find the largest divisor of n that is â‰¤ k
âœ” Answer = n / (that divisor)
âš¡ Why sqrt(n)?

Because divisors come in pairs:

i and n/i


When checking i from 1..âˆšn:

i is a small factor

n/i is the paired large factor

We want the largest factor â‰¤ k, so iterate through factor list backwards.

ğŸ’¡ Edge Case

If n <= k, then x = n is allowed, so answer = 1 package.

ğŸ”¥ Final Complexity

Factor generation: O(âˆšn)

Sorting factors: O(d log d) where d â‰¤ 2000 (very small)

Loop for answer: O(d)

Total: O(âˆšn log n) â€” easily fits in 2 seconds for n â‰¤ 1e9.

ğŸ§¾ Cleaned Version of Your Code (Logic Explanation)
void solve() {
    ll n, k;
    cin >> n >> k;

    // If n <= k, we can pick package size = n, so 1 package is enough.
    if (n <= k) {
        cout << 1 << endl;
        return;
    }

    vector<ll> factors;

    // Collect all factors of n
    for (ll i = 1; i * i <= n; i++) {
        if (n % i == 0) {
            factors.push_back(i);
            if (i != n / i) factors.push_back(n / i);
        }
    }

    // Sort so we can iterate from largest to smallest
    sort(factors.begin(), factors.end());

    ll bestFactor = 1;

    // Find the largest factor <= k
    for (int i = factors.size() - 1; i >= 0; i--) {
        if (factors[i] <= k) {
            bestFactor = factors[i];
            break;
        }
    }

    cout << n / bestFactor << endl;
}

ğŸ§  Why Your Solution Is Perfect

Correct factoring approach

You used great optimization

Works for maximum constraints

Matches editorial reasoning

Clean logic: large divisor â†’ min packages
